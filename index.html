<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Hyper Realistic Platformer</title>
  <style>
    body { margin:0; overflow:hidden; }
    canvas { display:block; }
  </style>
</head>
<body>
<script src="https://unpkg.com/three@0.161.0/build/three.min.js"></script>
<script>
let scene=new THREE.Scene();
scene.background=new THREE.Color(0x87ceeb); // sky blue

let camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000);
let renderer=new THREE.WebGLRenderer();
renderer.setSize(window.innerWidth,window.innerHeight);
document.body.appendChild(renderer.domElement);

// Lights
const hemi=new THREE.HemisphereLight(0xffffff,0x444444,1);
scene.add(hemi);
const dir=new THREE.DirectionalLight(0xffffff,1);
dir.position.set(5,10,7);
dir.castShadow=true;
scene.add(dir);

// Ground
const groundTex=new THREE.TextureLoader().load("https://threejs.org/examples/textures/grasslight-big.jpg");
groundTex.wrapS=groundTex.wrapT=THREE.RepeatWrapping;
groundTex.repeat.set(25,25);
const groundMat=new THREE.MeshLambertMaterial({map:groundTex});
const ground=new THREE.Mesh(new THREE.PlaneGeometry(200,200),groundMat);
ground.rotation.x=-Math.PI/2;
scene.add(ground);

// Player (sphere for now)
const playerGeo=new THREE.SphereGeometry(1,32,32);
const playerMat=new THREE.MeshStandardMaterial({color:0xffd166});
const player=new THREE.Mesh(playerGeo,playerMat);
player.position.set(0,2,0);
scene.add(player);

// Goal (blue cube)
const goal=new THREE.Mesh(new THREE.BoxGeometry(2,2,2),new THREE.MeshStandardMaterial({color:0x1e88e5}));
goal.position.set(20,1,0);
scene.add(goal);

// Physics
let vel=new THREE.Vector3();
let onGround=false;
const GRAVITY=-30;
function update(dt){
  // input
  if(keys["ArrowLeft"]) vel.x=-10;
  else if(keys["ArrowRight"]) vel.x=10;
  else vel.x=0;
  if(keys["Space"]&&onGround){vel.y=15;onGround=false;}

  // gravity
  vel.y+=GRAVITY*dt;
  player.position.addScaledVector(vel,dt);

  // ground collision
  if(player.position.y<1){
    player.position.y=1;vel.y=0;onGround=true;
  }

  // goal check
  if(player.position.distanceTo(goal.position)<2){
    alert("Level complete!");
    player.position.set(0,2,0);
  }

  camera.position.set(player.position.x,player.position.y+5,player.position.z+15);
  camera.lookAt(player.position);
}

// Input
const keys={};
window.addEventListener("keydown",e=>keys[e.code]=true);
window.addEventListener("keyup",e=>keys[e.code]=false);

// Loop
let last=performance.now();
function animate(now){
  requestAnimationFrame(animate);
  const dt=(now-last)/1000;last=now;
  update(dt);
  renderer.render(scene,camera);
}
animate();
</script>
</body>
</html>
